#!/bin/sh
# Husky pre-push hook - Thorough coverage check before push

echo "ğŸ” Running pre-push checks (thorough)..."

# Run full test coverage (unit + E2E + merge)
echo "\nğŸ§ª Running full test coverage (this may take 2-3 minutes)..."
pnpm coverage:all > /dev/null 2>&1 || {
  echo "âŒ Coverage check failed. Run 'pnpm coverage:all' to see details."
  exit 1
}
echo "âœ… Full coverage passed"

echo "\nâœ… All pre-push checks passed! Ready to push."
